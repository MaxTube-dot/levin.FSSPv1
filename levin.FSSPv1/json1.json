{
  "swagger": "2.0",
  "info": {
    "title": "Справочные материалы API БДИП ФССП России",
    "version": "1.0.0"
  },
  "host": "api-ip.fssp.gov.ru",
  "basePath": "/api/v1.0/",
  "paths": {
    "/search/physical": {
      "get": {
        "tags": [
          "v1.0"
        ],
        "summary": "Отправить запрос на поиск физического лица",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "description": "Ключ доступа к API",
            "required": true,
            "type": "string"
          },
          {
            "name": "region",
            "in": "query",
            "description": "Номер региона",
            "required": true,
            "type": "integer"
          },
          {
            "name": "firstname",
            "in": "query",
            "description": "Имя физического лица",
            "required": true,
            "type": "string"
          },
          {
            "name": "secondname",
            "in": "query",
            "description": "Отчество физического лица",
            "required": false,
            "type": "string"
          },
          {
            "name": "lastname",
            "in": "query",
            "description": "Фамилия физического лица",
            "required": true,
            "type": "string"
          },
          {
            "name": "birthdate",
            "in": "query",
            "description": "Дата рождения физического лица, в формате dd.mm.YYYY",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Пример ответа на запрос, при успешном выполнении запроса пользователю вернётся Task UUID, по которому он сможет получить статус и результат выполнения задачи",
            "examples": {
              "status": "success",
              "code": 0,
              "exception": "",
              "response": {
                "task": "A8D387F6-A072-418E-A041-22D4277E43C4"
              }
            }
          },
          "401": {
            "description": "Пример ответа на запрос, в котором отсутствует или указан неверный ключ доступа к API",
            "examples": {
              "status": "error",
              "code": 401,
              "exception": "invalid token",
              "response": []
            }
          }
        }
      }
    },
    "/search/legal": {
      "get": {
        "tags": [
          "v1.0"
        ],
        "summary": "Отправить запрос на поиск юридического лица",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "description": "Ключ доступа к API",
            "required": true,
            "type": "string"
          },
          {
            "name": "region",
            "in": "query",
            "description": "Номер региона",
            "required": true,
            "type": "integer"
          },
          {
            "name": "name",
            "in": "query",
            "description": "Имя юридического лица",
            "required": true,
            "type": "string"
          },
          {
            "name": "address",
            "in": "query",
            "description": "Адрес юридического лица",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Пример ответа на запрос, при успешном выполнении запроса пользователю вернётся Task UUID, по которому он сможет получить статус и результат выполнения задачи",
            "examples": {
              "status": "success",
              "code": 0,
              "exception": "",
              "response": {
                "task": "A8D387F6-A072-418E-A041-22D4277E43C4"
              }
            }
          },
          "401": {
            "description": "Пример ответа на запрос, в котором отсутствует или указан неверный ключ доступа к API",
            "examples": {
              "status": "error",
              "code": 401,
              "exception": "invalid token",
              "response": []
            }
          }
        }
      }
    },
    "/search/ip": {
      "get": {
        "tags": [
          "v1.0"
        ],
        "summary": "Отправить запрос на поиск по номеру исполнительного производства",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "description": "Ключ доступа к API",
            "required": true,
            "type": "string"
          },
          {
            "name": "number",
            "in": "query",
            "description": "Номер исполнительного производства в формате n..n/yy/dd/rr или n..n/yy/ddddd-ИП",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Пример ответа на запрос, при успешном выполнении запроса пользователю вернётся Task UUID, по которому он сможет получить статус и результат выполнения задачи",
            "examples": {
              "status": "success",
              "code": 0,
              "exception": "",
              "response": {
                "task": "A8D387F6-A072-418E-A041-22D4277E43C4"
              }
            }
          },
          "401": {
            "description": "Пример ответа на запрос, в котором отсутствует или указан неверный ключ доступа к API",
            "examples": {
              "status": "error",
              "code": 401,
              "exception": "invalid token",
              "response": []
            }
          }
        }
      }
    },
    "/search/group": {
      "post": {
        "tags": [
          "v1.0"
        ],
        "summary": "Отправить групповой запрос",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "query",
            "in": "body",
            "description": "\n *********************************************************************************\nГрупповой запрос, в котором может быть указан массив запросов в параметре request\n *********************************************************************************\ntoken - тип поля string  # Ключ доступа к API # Обязательный параметр\nrequest - массив запросов, каждый элемент массива состоит из следующих параметров:\n____________________________________________________________________________________________________________\n'type': *** (integer) Обязательный параметр, который обозначает тип запроса, может быть один из:\n____________________________________________________________________________________________________________\n1 - Отправить запрос на поиск физического лица;\n2 - Отправить запрос на поиск юридического лица;\n3 - Отправить запрос на поиск по номеру исполнительного производства;\n____________________________________________________________________________________________________________\n\n____________________________________________________________________________________________________________\n'params': *** (array) Обязательный параметр, содержит в себе необходимые параметры для осуществления поиска по выбранному типу (type), ниже приведены примеры по каждому из запросов:\n____________________________________________________________________________________________________________\n\nОтправить запрос на поиск физического лица\n\n'firstname': 'string',    # * Обязательный параметр, Имя физического лица;\n'lastname': 'string',     # * Обязательный параметр, Фамилия физического лица;\n'secondname': 'string',   # Отчество физического лица;\n'region': 'integer',      # * Обязательный параметр, Номер региона;\n'birthdate': 'dd.mm.YYYY' # * Обязательный параметр, Дата рождения физического лица;\n____________________________________________________________________________________________________________\n\nОтправить запрос на поиск юридического лица\n\n'name': 'string',               # * Обязательный параметр, Название юридического лица;\n'address': 'string',            # * Обязательный параметр, Адрес юридического лица;\n'region': 'integer'             # * Обязательный параметр, Номер региона;\n____________________________________________________________________________________________________________\n\nОтправить запрос на поиск по номеру исполнительного производства\n\n'number': 'string'              # * Обязательный параметр, Номер исполнительного производства\n\nв формате n…n/yy/dd/rr или n…n/yy/ddddd-ИП/\n____________________________________________________________________________________________________________\n",
            "required": true,
            "schema": {
              "required": [
                "token",
                "request"
              ],
              "properties": {
                "token": {
                  "description": "Ключ доступа к API",
                  "type": "string"
                },
                "request": {
                  "description": "Параметры запроса",
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/params"
                  },
                  "example": [
                    {
                      "type": 1,
                      "params": {
                        "firstname": "string",
                        "lastname": "string",
                        "secondname": "string",
                        "region": "integer",
                        "birthdate": "d.m.Y"
                      }
                    },
                    {
                      "type": 2,
                      "params": {
                        "name": "string",
                        "address": "string",
                        "region": "integer"
                      }
                    },
                    {
                      "type": 3,
                      "params": {
                        "number": "number"
                      }
                    }
                  ]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Пример ответа на запрос, при успешном выполнении запроса пользователю вернётся Task UUID, по которому он сможет получить статус и результат выполнения задачи",
            "examples": {
              "status": "success",
              "code": 0,
              "exception": "",
              "response": {
                "task": "A8D387F6-A072-418E-A041-22D4277E43C4"
              }
            }
          },
          "401": {
            "description": "Пример ответа на запрос, в котором отсутствует или указан неверный ключ доступа к API",
            "examples": {
              "status": "error",
              "code": 401,
              "exception": "invalid token",
              "response": []
            }
          }
        }
      }
    },
    "/status": {
      "get": {
        "tags": [
          "v1.0"
        ],
        "summary": "Отправить запрос на получение статуса выполнения задачи",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "description": "Ключ доступа к API",
            "required": true,
            "type": "string"
          },
          {
            "name": "task",
            "in": "query",
            "description": "Task UUID, выданный при успешном выполнении запроса",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "\n *********************************************************************************\nЗапрос на получение статуса задачи по UUID,\n *********************************************************************************\ntoken - тип поля string  # Ключ доступа к API # Обязательный параметр;\ntask -  UUID             # UUID выполняемой задачи;\n____________________________________________________________________________________________________________\nОтветом на данный запрос будет выдан массив, в котором содержится статус выполняемой задачи:\n\n'status' : 'integer', где статус может иметь следующие значения:\n\n0 — обработка завершена, с помощью метода /result можно получить результаты;\n1 — обработка начата, с помощью метода /result можно получить частичные результаты группового запроса;\n2 — обработка не начиналась, запрос находится в очереди;\n3 — обработка завершена, имели место ошибки, с помощью метода /result можно получить частичные результаты;\n\n'progress' : 'string', Количество выполненных задач из общего количества задач.\n____________________________________________________________________________________________________________\n\n",
            "examples": {
              "status": "success",
              "code": 0,
              "exception": "",
              "response": {
                "status": 2,
                "progress": "0 of 1"
              }
            }
          },
          "401": {
            "description": "Пример ответа на запрос, в котором отсутствует или указан неверный ключ доступа к API",
            "examples": {
              "status": "error",
              "code": 401,
              "exception": "invalid token",
              "response": []
            }
          },
          "400": {
            "description": "Пример ответа на запрос, в котором отсутствует или указан неверный UUID выполняемой задачи",
            "examples": {
              "status": "error",
              "code": 400,
              "exception": "task not exist",
              "response": []
            }
          }
        }
      }
    },
    "/result": {
      "get": {
        "tags": [
          "v1.0"
        ],
        "summary": "Отправить запрос на получение результата выполнения задачи",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "description": "Ключ доступа к API",
            "required": true,
            "type": "string"
          },
          {
            "name": "task",
            "in": "query",
            "description": "Task UUID, выданный при успешном выполнении запроса",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "\n *********************************************************************************\nЗапрос на получение результата задачи по UUID,\n *********************************************************************************\ntoken - тип поля string  # Ключ доступа к API # Обязательный параметр;\ntask -  UUID             # UUID выполняемой задачи;\n____________________________________________________________________________________________________________\nОтветом на данный запрос будет выдан массив, в котором содержится результат выполняемой задачи:\n\n'status' : 'integer', где статус может иметь следующие значения:\n\n0 - Задача выполнена без ошибок;\n1 - Задача находится в обработке, результаты группового запроса не являются полными;\n2 - Задача находится в очереди на выполнение;\n3 - Задача выполнена, имеются ошибки;\n\n'query' : 'array', массив, элементы которого содержат значения запросов.\n'result' : 'array', массив, элементы которого содержат ответы на запросы.\n____________________________________________________________________________________________________________\n",
            "examples": {
              "status": "success",
              "code": 0,
              "exception": "",
              "response": {
                "status": 0,
                "task_start": "2018-01-29 10:32:50",
                "task_end": "2018-01-29 10:32:51",
                "result": [
                  {
                    "status": 0,
                    "query": {
                      "type": 2,
                      "params": {
                        "name": "ооо компания",
                        "region": "74"
                      }
                    },
                    "result": [
                      {
                        "name": "ООО 'КОМПАНИЯ', РОССИЯ,454108,ЧЕЛЯБИНСКАЯ ОБЛ, ,ЧЕЛЯБИНСК Г",
                        "exe_production": "27122/12/20/74 от 24.04.2012",
                        "details": "Акт органа, осуществляющего контрольные функции от 19.04.2012 № 2318",
                        "subject": "Иной вид налога и сбора",
                        "department": 74020,
                        "bailiff": "ИВАНОВ И. И. +7(351)731-70-13",
                        "ip_end": "2016-07-30, 46, 1, 4"
                      },
                      {
                        "name": "ООО КОМПАНИЯ+, РОССИЯ,, , ,ИВАНОВС Г, ,ИВАНОВА ПР-КТ,23,, ",
                        "exe_production": "56411/13/53/74 от 23.12.2013",
                        "details": "Исполнительный лист от 04.10.2013 № ВС № 031049556",
                        "subject": "Кредитные платежи",
                        "department": 74053,
                        "bailiff": "ИВАНОВ И. И. +7(3519)21-72-59",
                        "ip_end": "2016-03-30, 46, 1, 4"
                      }
                    ]
                  },
                  {
                    "status": 0,
                    "query": {
                      "type": 1,
                      "params": {
                        "firstname": "иванов",
                        "lastname": "иван",
                        "region": "74"
                      }
                    },
                    "result": [
                      {
                        "name": "ИВАНОВ ИВАН ИВАНОВИЧ 05.11.1978",
                        "exe_production": "434/08/31/74 от 18.12.2008",
                        "details": "Исполнительный лист от 29.07.2005 № 2-551",
                        "subject": "",
                        "department": 74211,
                        "bailiff": "ИВАНОВ И. И. +7(351)723-62-55",
                        "ip_end": "2015-04-30, 46, 1, 4"
                      }
                    ]
                  },
                  {
                    "status": 0,
                    "query": {
                      "type": 3,
                      "params": {
                        "number": "721/13/19/01"
                      }
                    },
                    "result": [
                      {
                        "name": "ООО 'КОМПАНИЯ', РОССИЯ,, , ,С ИВАНОВСК Г, ,МИРА УЛ,173,, ",
                        "exe_production": "721/13/19/01 от 01.02.2013",
                        "details": "Исполнительный лист от 19.11.2012 № ВС № 001393968",
                        "subject": "Задолженность",
                        "department": "Красногвардейский РОСП 234354, Ивановский район, Республика Адыгея, с. , ул. 10 лет Октября, 21",
                        "bailiff": "ИВАНОВ И. И. (23123) 5-22-30<br>+7(23334)5-22-30<br>+7(87778)5-22-30",
                        "ip_end": "2016-09-30, 46, 1, 4"
                      }
                    ]
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Пример ответа на запрос, в котором отсутствует или указан неверный ключ доступа к API",
            "examples": {
              "status": "error",
              "code": 401,
              "exception": "invalid token",
              "response": []
            }
          },
          "400": {
            "description": "Пример ответа на запрос, в котором отсутствует или указан неверный UUID выполняемой задачи",
            "examples": {
              "status": "error",
              "code": 400,
              "exception": "task not exist",
              "response": []
            }
          }
        }
      }
    }
  },
  "definitions": {
    "physicalArray": {
      "required": [
        "region",
        "firstname",
        "lastname",
        "birthdate"
      ],
      "properties": {
        "region": {
          "description": "Номер региона",
          "type": "integer",
          "format": "integer"
        },
        "firstname": {
          "description": "Имя физического лица",
          "type": "string",
          "format": "string"
        },
        "lastname": {
          "description": "Фамилия физического лица",
          "type": "string",
          "format": "string"
        },
        "secondname": {
          "description": "Отчество физического лица",
          "type": "string",
          "format": "string"
        },
        "birthdate": {
          "description": "Дата рождения физического лица, в формате dd.mm.YYYY",
          "type": "string",
          "format": "string"
        }
      }
    },
    "requestByPhysical": {
      "required": [
        "type",
        "params"
      ],
      "properties": {
        "type": {
          "description": "Тип запроса",
          "type": "integer",
          "format": "integer",
          "example": 1
        },
        "params": {
          "description": "Параметры запроса",
          "type": "array",
          "items": {
            "$ref": "#/definitions/physicalArray"
          }
        }
      }
    },
    "legalArray": {
      "required": [
        "name",
        "region",
        "address"
      ],
      "properties": {
        "region": {
          "description": "Номер региона",
          "type": "integer",
          "format": "integer"
        },
        "name": {
          "description": "Название юридического лица",
          "type": "string",
          "format": "string"
        },
        "address": {
          "description": "Адрес юридического лица",
          "type": "string",
          "format": "string"
        }
      }
    },
    "requestByLegal": {
      "required": [
        "type",
        "params"
      ],
      "properties": {
        "type": {
          "description": "Тип запроса",
          "type": "integer",
          "format": "integer",
          "example": 2
        },
        "params": {
          "description": "Параметры запроса",
          "type": "array",
          "items": {
            "$ref": "#/definitions/legalArray"
          }
        }
      }
    },
    "ipArray": {
      "required": [
        "number"
      ],
      "properties": {
        "number": {
          "description": "Номер исполнительного производства в формате n..n/yy/dd/rr или n..n/yy/ddddd-ИП",
          "type": "string",
          "format": "string"
        }
      }
    },
    "requestByIp": {
      "required": [
        "type",
        "params"
      ],
      "properties": {
        "type": {
          "description": "Тип запроса",
          "type": "integer",
          "format": "integer",
          "example": 3
        },
        "params": {
          "description": "Параметры запроса",
          "type": "array",
          "items": {
            "$ref": "#/definitions/ipArray"
          }
        }
      }
    },
    "params": {
      "properties": {
        "requestByIp": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/requestByIp"
          }
        }
      }
    }
  }
}